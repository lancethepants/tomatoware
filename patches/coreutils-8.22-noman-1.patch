Submitted By: William Harrington (kb0iic at cross-lfs dot org)
Date: 2013-12-23
Initial Package Version: 8.22
Origin: Openbox 
Upstream Status: Inapprorpiate
Description: Keep man pages from being generated during cross compile.

--- coreutils-8.22.orig/Makefile.in	2013-12-13 15:20:00.000000000 +0000
+++ coreutils-8.22/Makefile.in	2013-12-23 08:35:55.604015206 +0000
@@ -1,4 +1,4 @@
-# Makefile.in generated by automake 1.13.4 from Makefile.am.
+# Makefile.in generated by automake 1.14 from Makefile.am.
 # @configure_input@
 
 # Copyright (C) 1994-2013 Free Software Foundation, Inc.
@@ -75,24 +75,6 @@
 # You should have received a copy of the GNU General Public License
 # along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
-# Make coreutils man pages.				-*-Makefile-*-
-# This is included by the top-level Makefile.am.
-
-# Copyright (C) 2002-2013 Free Software Foundation, Inc.
-
-# This program is free software: you can redistribute it and/or modify
-# it under the terms of the GNU General Public License as published by
-# the Free Software Foundation, either version 3 of the License, or
-# (at your option) any later version.
-
-# This program is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU General Public License for more details.
-
-# You should have received a copy of the GNU General Public License
-# along with this program.  If not, see <http://www.gnu.org/licenses/>.
-
 
 
 VPATH = @srcdir@
@@ -159,11 +141,10 @@
 host_triplet = @host@
 DIST_COMMON = $(top_srcdir)/lib/local.mk $(srcdir)/lib/gnulib.mk \
 	$(top_srcdir)/src/local.mk $(srcdir)/src/cu-progs.mk \
-	$(top_srcdir)/doc/local.mk $(top_srcdir)/man/local.mk \
-	$(top_srcdir)/tests/local.mk INSTALL NEWS README AUTHORS \
-	ChangeLog $(srcdir)/Makefile.in $(srcdir)/Makefile.am \
-	$(top_srcdir)/configure $(am__configure_deps) \
-	$(top_srcdir)/lib/config.hin ABOUT-NLS \
+	$(top_srcdir)/doc/local.mk $(top_srcdir)/tests/local.mk \
+	INSTALL NEWS README AUTHORS ChangeLog $(srcdir)/Makefile.in \
+	$(srcdir)/Makefile.am $(top_srcdir)/configure \
+	$(am__configure_deps) $(top_srcdir)/lib/config.hin ABOUT-NLS \
 	$(top_srcdir)/lib/alloca.c lib/parse-datetime.c \
 	$(top_srcdir)/build-aux/depcomp $(top_srcdir)/build-aux/ylwrap \
 	$(doc_coreutils_TEXINFOS) $(top_srcdir)/build-aux/mdate-sh \
@@ -1507,7 +1488,6 @@
 EOVERFLOW_VALUE = @EOVERFLOW_VALUE@
 ERRNO_H = @ERRNO_H@
 EXEEXT = @EXEEXT@
-EXTRA_MANS = @EXTRA_MANS@
 FLOAT_H = @FLOAT_H@
 FNMATCH_H = @FNMATCH_H@
 GETADDRINFO_LIB = @GETADDRINFO_LIB@
@@ -2749,7 +2729,6 @@
 lispdir = @lispdir@
 localedir = @localedir@
 localstatedir = @localstatedir@
-man1_MANS = @man1_MANS@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
 oldincludedir = @oldincludedir@
@@ -2965,19 +2944,17 @@
 	lib/xstrtol.h lib/xstrtod.c lib/xstrtod.h lib/xalloc.h \
 	lib/yesno.h src/dcgen src/dircolors.hin src/primes.h \
 	src/tac-pipe.c src/extract-magic src/c99-to-c89.diff \
-	man/help2man man/dummy-man $(man1_MANS:.1=.x) \
-	$(EXTRA_MANS:.1=.x) $(all_tests) init.cfg tests/Coreutils.pm \
-	tests/CuSkip.pm tests/CuTmpdir.pm tests/d_type-check \
-	tests/envvar-check tests/factor/run.sh \
-	tests/factor/create-test.sh tests/filefrag-extent-compare \
-	tests/fiemap-capable tests/init.sh tests/lang-default \
-	tests/no-perl tests/other-fs-tmpdir tests/sample-test \
-	$(pr_data)
+	$(all_tests) init.cfg tests/Coreutils.pm tests/CuSkip.pm \
+	tests/CuTmpdir.pm tests/d_type-check tests/envvar-check \
+	tests/factor/run.sh tests/factor/create-test.sh \
+	tests/filefrag-extent-compare tests/fiemap-capable \
+	tests/init.sh tests/lang-default tests/no-perl \
+	tests/other-fs-tmpdir tests/sample-test $(pr_data)
 gen_progs_lists = $(top_srcdir)/build-aux/gen-lists-of-programs.sh
 ACLOCAL_AMFLAGS = -I m4
 
 # Just prior to distribution, ...
-# transform the automake-generated rule that runs 'rm -f rm > /dev/null 2>&1 || /bin/rm -f rm'.
+# transform the automake-generated rule that runs 'rm -f rm'.
 # On some systems, that command would fail with a diagnostic like
 # "rm: cannot unlink 'rm': Text file busy" when '.' appears so early
 # in the shell's search path that running 'rm' would run the 'rm'
@@ -3083,7 +3060,7 @@
 CLEANFILES = lib/configmake.h lib/configmake.h-t lib/charset.alias \
 	lib/ref-add.sed lib/ref-del.sed $(SCRIPTS) \
 	$(no_install__progs) src/fs-def src/fs-magic \
-	src/fs-kernel-magic $(ALL_MANS) $(factor_tests)
+	src/fs-kernel-magic $(factor_tests)
 MOSTLYCLEANDIRS = lib/arpa lib/netinet lib/selinux lib/sys lib/sys \
 	lib/sys lib/sys lib/sys lib/sys lib/sys lib/sys
 AM_CPPFLAGS = -Ilib -I$(top_srcdir)/lib -Isrc -I$(top_srcdir)/src
@@ -3606,17 +3583,6 @@
      }				\
    END {$$m and (warn "$@: do not use upper case in \@var{...}\n"), exit 1}'
 
-@HAVE_PERL_FALSE@run_help2man = $(SHELL) $(srcdir)/man/dummy-man
-@HAVE_PERL_TRUE@run_help2man = $(PERL) -- $(srcdir)/man/help2man
-ALL_MANS = $(man1_MANS) $(EXTRA_MANS)
-
-# Dependencies common to all man pages.  Updated below.
-
-# Depend on this to get version number changes.
-
-# This is required so that changes to e.g., emit_bug_reporting_address
-# provoke regeneration of all the manpages.
-mandeps = .version $(top_srcdir)/src/system.h
 
 # Indirections required so that we'll still be able to know the
 # complete list of our tests even if the user overrides TESTS
@@ -4396,10 +4362,10 @@
 	$(MAKE) $(AM_MAKEFLAGS) all-recursive
 
 .SUFFIXES:
-.SUFFIXES: .1 .c .dvi .log .o .obj .pl .pl$(EXEEXT) .ps .sed .sh .sh$(EXEEXT) .sin .trs .x .xpl .xpl$(EXEEXT) .y
+.SUFFIXES: .c .dvi .log .o .obj .pl .pl$(EXEEXT) .ps .sed .sh .sh$(EXEEXT) .sin .trs .xpl .xpl$(EXEEXT) .y
 am--refresh: Makefile
 	@:
-$(srcdir)/Makefile.in:  $(srcdir)/Makefile.am $(top_srcdir)/lib/local.mk $(srcdir)/lib/gnulib.mk $(top_srcdir)/src/local.mk $(srcdir)/src/cu-progs.mk $(top_srcdir)/doc/local.mk $(top_srcdir)/man/local.mk $(top_srcdir)/tests/local.mk $(am__configure_deps)
+$(srcdir)/Makefile.in:  $(srcdir)/Makefile.am $(top_srcdir)/lib/local.mk $(srcdir)/lib/gnulib.mk $(top_srcdir)/src/local.mk $(srcdir)/src/cu-progs.mk $(top_srcdir)/doc/local.mk $(top_srcdir)/tests/local.mk $(am__configure_deps)
 	@for dep in $?; do \
 	  case '$(am__configure_deps)' in \
 	    *$$dep*) \
@@ -4422,7 +4388,7 @@
 	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)'; \
 	    cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe);; \
 	esac;
-$(top_srcdir)/lib/local.mk $(srcdir)/lib/gnulib.mk $(top_srcdir)/src/local.mk $(srcdir)/src/cu-progs.mk $(top_srcdir)/doc/local.mk $(top_srcdir)/man/local.mk $(top_srcdir)/tests/local.mk:
+$(top_srcdir)/lib/local.mk $(srcdir)/lib/gnulib.mk $(top_srcdir)/src/local.mk $(srcdir)/src/cu-progs.mk $(top_srcdir)/doc/local.mk $(top_srcdir)/tests/local.mk:
 
 $(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
 	$(SHELL) ./config.status --recheck
@@ -4434,8 +4400,8 @@
 $(am__aclocal_m4_deps):
 
 lib/config.h: lib/stamp-h1
-	@if test ! -f $@; then rm -f lib/stamp-h1; else :; fi
-	@if test ! -f $@; then $(MAKE) $(AM_MAKEFLAGS) lib/stamp-h1; else :; fi
+	@test -f $@ || rm -f lib/stamp-h1
+	@test -f $@ || $(MAKE) $(AM_MAKEFLAGS) lib/stamp-h1
 
 lib/stamp-h1: $(top_srcdir)/lib/config.hin $(top_builddir)/config.status
 	@rm -f lib/stamp-h1
@@ -5292,7 +5258,7 @@
 	cd "$(DESTDIR)$(bindir)" && rm -f $$files
 
 clean-binPROGRAMS:
-	-test -z "$(bin_PROGRAMS)" || rm -f $(bin_PROGRAMS) > /dev/null 2>&1 || /bin/rm -f $(bin_PROGRAMS)
+	-test -z "$(bin_PROGRAMS)" || rm -f $(bin_PROGRAMS)
 
 clean-noinstPROGRAMS:
 	-test -z "$(noinst_PROGRAMS)" || rm -f $(noinst_PROGRAMS)
@@ -6747,17 +6713,13 @@
 	$(AM_V_at)if $(MAKEINFOHTML) $(AM_MAKEINFOHTMLFLAGS) $(MAKEINFOFLAGS) -I doc -I $(srcdir)/doc \
 	 -o $(@:.html=.htp) `test -f 'doc/coreutils.texi' || echo '$(srcdir)/'`doc/coreutils.texi; \
 	then \
-	  rm -rf $@; \
-	  if test ! -d $(@:.html=.htp) && test -d $(@:.html=); then \
-	    mv $(@:.html=) $@; else mv $(@:.html=.htp) $@; fi; \
+	  rm -rf $@ && mv $(@:.html=.htp) $@; \
 	else \
-	  if test ! -d $(@:.html=.htp) && test -d $(@:.html=); then \
-	    rm -rf $(@:.html=); else rm -Rf $(@:.html=.htp) $@; fi; \
-	  exit 1; \
+	  rm -rf $(@:.html=.htp); exit 1; \
 	fi
 $(srcdir)/doc/version.texi:  $(srcdir)/doc/stamp-vti
 $(srcdir)/doc/stamp-vti: doc/coreutils.texi $(top_srcdir)/configure
-	test -f doc/$(am__dirstamp) || $(MAKE) $(AM_MAKEFLAGS) doc/$(am__dirstamp)
+	@test -f doc/$(am__dirstamp) || $(MAKE) $(AM_MAKEFLAGS) doc/$(am__dirstamp)
 	@(dir=.; test -f ./doc/coreutils.texi || dir=$(srcdir); \
 	set `$(SHELL) $(top_srcdir)/build-aux/mdate-sh $$dir/doc/coreutils.texi`; \
 	echo "@set UPDATED $$1 $$2 $$3"; \
@@ -7285,10 +7247,16 @@
 	$(am__post_remove_distdir)
 
 dist-tarZ: distdir
+	@echo WARNING: "Support for shar distribution archives is" \
+	               "deprecated." >&2
+	@echo WARNING: "It will be removed altogether in Automake 2.0" >&2
 	tardir=$(distdir) && $(am__tar) | compress -c >$(distdir).tar.Z
 	$(am__post_remove_distdir)
 
 dist-shar: distdir
+	@echo WARNING: "Support for distribution archives compressed with" \
+		       "legacy program 'compress' is deprecated." >&2
+	@echo WARNING: "It will be removed altogether in Automake 2.0" >&2
 	shar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz
 	$(am__post_remove_distdir)
 
@@ -9838,154 +9806,6 @@
 	  $(PERL) -lne $(find_upper_case_var) $(texi_files)
 
 check-local: check-texinfo
-
-# This is required because we have subtle inter-directory dependencies:
-# in order to generate all man pages, even those for which we don't
-# install a binary, require that all programs be built at distribution
-# time.  We can't use 'dist-hook' for this, since it would run too late:
-# the manpages must be generated before the distdir is created and filled.
-$(EXTRA_MANS): $(all_programs)
-
-# This is a kludge to remove generated 'man/*.1' from a non-srcdir build.
-# Without this, "make distcheck" might fail.
-distclean-local:
-	test x$(srcdir) = x$(builddir) || rm -f $(ALL_MANS)
-
-$(ALL_MANS): $(mandeps)
-
-# Most prog.1 man pages depend on src/prog.  List the exceptions:
-# Note that dir and vdir are exceptions only if you consider the name
-# of the .c file upon which they depend: ls.c.
-man/arch.1:      src/uname
-man/dir.1:       src/dir
-man/install.1:   src/ginstall
-man/vdir.1:      src/vdir
-
-man/base64.1:    src/base64
-man/basename.1:  src/basename
-man/cat.1:       src/cat
-man/chcon.1:     src/chcon
-man/chgrp.1:     src/chgrp
-man/chmod.1:     src/chmod
-man/chown.1:     src/chown
-man/chroot.1:    src/chroot
-man/cksum.1:     src/cksum
-man/comm.1:      src/comm
-man/cp.1:        src/cp
-man/csplit.1:    src/csplit
-man/cut.1:       src/cut
-man/date.1:      src/date
-man/dd.1:        src/dd
-man/df.1:        src/df
-man/dircolors.1: src/dircolors
-man/dirname.1:   src/dirname
-man/du.1:        src/du
-man/echo.1:      src/echo
-man/env.1:       src/env
-man/expand.1:    src/expand
-man/expr.1:      src/expr
-man/factor.1:    src/factor
-man/false.1:     src/false
-man/fmt.1:       src/fmt
-man/fold.1:      src/fold
-man/groups.1:    src/groups
-man/head.1:      src/head
-man/hostid.1:    src/hostid
-man/hostname.1:  src/hostname
-man/id.1:        src/id
-man/join.1:      src/join
-man/kill.1:      src/kill
-man/link.1:      src/link
-man/ln.1:        src/ln
-man/logname.1:   src/logname
-man/ls.1:        src/ls
-man/md5sum.1:    src/md5sum
-man/mkdir.1:     src/mkdir
-man/mkfifo.1:    src/mkfifo
-man/mknod.1:     src/mknod
-man/mktemp.1:    src/mktemp
-man/mv.1:        src/mv
-man/nice.1:      src/nice
-man/nl.1:        src/nl
-man/nohup.1:     src/nohup
-man/nproc.1:     src/nproc
-man/numfmt.1:    src/numfmt
-man/od.1:        src/od
-man/paste.1:     src/paste
-man/pathchk.1:   src/pathchk
-man/pinky.1:     src/pinky
-man/pr.1:        src/pr
-man/printenv.1:  src/printenv
-man/printf.1:    src/printf
-man/ptx.1:       src/ptx
-man/pwd.1:       src/pwd
-man/readlink.1:  src/readlink
-man/realpath.1:  src/realpath
-man/rm.1:        src/rm
-man/rmdir.1:     src/rmdir
-man/runcon.1:    src/runcon
-man/seq.1:       src/seq
-man/sha1sum.1:   src/sha1sum
-man/sha224sum.1: src/sha224sum
-man/sha256sum.1: src/sha256sum
-man/sha384sum.1: src/sha384sum
-man/sha512sum.1: src/sha512sum
-man/shred.1:     src/shred
-man/shuf.1:      src/shuf
-man/sleep.1:     src/sleep
-man/sort.1:      src/sort
-man/split.1:     src/split
-man/stat.1:      src/stat
-man/stdbuf.1:    src/stdbuf
-man/stty.1:      src/stty
-man/sum.1:       src/sum
-man/sync.1:      src/sync
-man/tac.1:       src/tac
-man/tail.1:      src/tail
-man/tee.1:       src/tee
-man/test.1:      src/test
-man/timeout.1:   src/timeout
-man/touch.1:     src/touch
-man/tr.1:        src/tr
-man/true.1:      src/true
-man/truncate.1:  src/truncate
-man/tsort.1:     src/tsort
-man/tty.1:       src/tty
-man/uname.1:     src/uname
-man/unexpand.1:  src/unexpand
-man/uniq.1:      src/uniq
-man/unlink.1:    src/unlink
-man/uptime.1:    src/uptime
-man/users.1:     src/users
-man/wc.1:        src/wc
-man/who.1:       src/who
-man/whoami.1:    src/whoami
-man/yes.1:       src/yes
-
-.x.1:
-	$(AM_V_GEN)name=`echo $@ | sed 's|.*/||; s|\.1$$||'` || exit 1;	\
-	case $$name in							\
-	  install) prog='ginstall';;					\
-	     test) prog='[';;						\
-		*) prog=$$name;;					\
-	esac;								\
-	rm -f $@ $@-t							\
-	  && t=$*.td							\
-	  && rm -rf $$t							\
-	  && $(MKDIR_P) $$t						\
-	  && (cd $$t && $(LN_S) '$(abs_top_builddir)/src/'$$prog $$name) \
-	  && $(run_help2man)						\
-		     --source='$(PACKAGE_STRING)'			\
-		     --include=$(srcdir)/man/$$name.x			\
-		     --output=$$t/$$name.1 $$t/$$name			\
-		     --info-page='coreutils \(aq'$$name' invocation\(aq' \
-	  && sed \
-	       -e 's|$*\.td/||g' \
-	       -e '/For complete documentation/d' \
-	       $$t/$$name.1 > $@-t			\
-	  && rm -rf $$t							\
-	  && chmod a-w $@-t						\
-	  && mv $@-t $@
 .PHONY: check-root
 check-root:
 	$(MAKE) check TESTS='$(root_tests)' SUBDIRS=.
